%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,12pt,spanish]{report}

%
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax



\usepackage[utf8]{inputenc}

% Esto es para los símbolos en los snippets, por ejemplo donde 
% enlisto los archivos del directorio.

\ifdefined\DeclareUnicodeCharacter
 \ifdefined\DeclareUnicodeCharacterAsOptional
  \DeclareUnicodeCharacter{"00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{"2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{"2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{"2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{"251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{"2572}{\textbackslash}
 \else
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{2572}{\textbackslash}
 \fi
\fi

\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{amsthm}
\usepackage{babel}
\usepackage{multirow}
\usepackage[table,xcdraw]{xcolor}
\usepackage{longtable}
\usepackage[dontkeepoldnames]{sphinx}
\usepackage{bold-extra}
\usepackage{caption}
\usepackage{subfig}
\usepackage{url}
\usepackage[xindy,toc]{glossaries} 
% \usepackage[toc]{glossaries}
\input{glossary.tex}
\makeglossaries

% \usepackage{natbib}

%\usepackage{apalike}
%\usepackage{setspace}
%\doublespacing


\def\@makechapterhead#1{\vspace*{50\p@}{\parindent\z@\raggedright\normalfont\ifnum\c@secnumdepth>\m@ne\if@mainmatter\huge\bfseries\@chapapp\space\thechapter: \fi\fi\interlinepenalty\@M\Huge\bfseries#1\par\nobreak\vskip40\p@}}
\makeatother

\usepackage[left=37mm,right=30mm,top=35mm,bottom=30mm]{geometry}
% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\usepackage{appendix}

% \usepackage[
% backend=biber
% ,style=iso-authoryear
% ,sortlocale=cs_CZ
% ,autolang=other
% ,bibencoding=UTF8
% ]{biblatex}

% \addbibresource{referencias.bib}

\addto\captionsspanish{
\renewcommand{\appendixname}{Anexo}
\renewcommand{\appendixtocname}{Anexos}
\renewcommand{\appendixpagename}{Anexos}
}

\addto\captionsspanish{\renewcommand{\contentsname}{Contenido}}

\addto\captionsspanish{\renewcommand{\figurename}{Figura}}
\addto\captionsspanish{\renewcommand{\tablename}{Tabla}}
\addto\captionsspanish{\renewcommand{\literalblockname}{Lista}}

\addto\captionsspanish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsspanish{\renewcommand{\literalblockcontinuesname}{continues on next page}}

\addto\extrasspanish{\def\pageautorefname{página}}

\newtheorem*{remark}{Afirmación}
% \setcounter{secnumdepth}{4}






\newcounter{subsubparagraph}[subparagraph]
\renewcommand\thesubsubparagraph{%
  \thesubparagraph.\@arabic\c@subsubparagraph}


\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}



%\renewcommand{\baselinestretch}{2}

\title{CloudNAO: Una arquitectura de software para la integración de
cómputo en la nube con robots NAO}
\date{\today}
\release{1.0}
\author{Ivan Raymundo Feliciano Avelino}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Versión}
\makeindex

\graphicspath {{figures/}}

\glsaddall

\begin{document}
\ifnum\catcode`\"=\active\shorthandoff{"}\fi
\maketitle
\sphinxtableofcontents
%\phantomsection\label{\detokenize{index::doc}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%% Introducción %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\input{intro.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% Capítulo 1 : Antecedentes %%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Antecedentes}
\label{\detokenize{chapter_one:antecedentes}}\label{\detokenize{chapter_one::doc}}

En este capítulo se describen los conceptos 
necesarios para comprender mejor el desarrollo
de la arquitectura de software y los fundamentos
de sus componentes. 

En la Sección \ref{\detokenize{chapter_one/naoqi::doc}} se 
familiariza al lector con la plataforma NAO y con
NAOqi, el marco de trabajo para desarrollar
aplicaciones sobre éste. 

En la Sección \ref{chapter_two/deep_learning_tf} se describe 
de manera muy general lo que es el aprendizaje profundo,
primero introduciendo conceptos básicos del aprendizaje 
automático, siguiendo con redes neuronales para finalmente
llegar a las redes neuronales profundas, en específico,
las redes convolucionales. En esa misma sección
hay un apartado sobre la biblioteca TensorFlow,
donde se describe la estructura de un programa
usando esta herramienta y un ejemplo muy
sencillo para poner en práctica el paradigma de programación utilizado
en TensorFlow.

En la Sección \ref{\detokenize{chapter_one/cloud_computing::doc}}
se define la idea del cómputo en la nube, las características y capas de éste, 
las tecnologías que involucra y las diferencias entre los servicios y el cómputo en la nube.

La Sección \ref{\detokenize{chapter_one/rest::doc}}
presenta el estilo de arquitectura de software REST.
Se muestran algunos conceptos generales del protocolo
HTTP y la web, finalizando con los elementos 
que componen a la arquitectura REST.

La Sección \ref{\detokenize{chapter_one/firebase::doc}}
comienza con una breve definición del modelo 
de Backend as a Service, para después
explicar lo que es la plataforma Firebase y los servicios
que se ocupan en este trabajo.

En la Sección \ref{\detokenize{chapter_one/apis_rest::doc}},
la última de este capítulo, se muestran los servicios
utilizados dentro de la arquitectura. Además,
para amarrar mejor los conceptos explicados 
en la Sección \ref{\detokenize{chapter_one/rest::doc}},
para cada servicio se describe el funcionamiento
de la API REST con la que cuenta.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{C1_antecedentes/naoqi.tex}
\input{C1_antecedentes/deep_learning_and_tf.tex}
\input{C1_antecedentes/cloud_computing.tex}
\input{C1_antecedentes/rest.tex}
\input{C1_antecedentes/baas_firebase.tex}
\input{C1_antecedentes/apis.tex}

\section*{Conclusiones del capítulo}
En este capítulo se describieron algunos 
fundamentos teóricos y prácticos de la arquitectura de software 
propuesta. Se mencionó el funcionamiento de varios elementos que 
componen al robot NAO, a nivel hardware y software, como el uso de los SDK para Java y Python y
ciertas interfaces para el control del robot, captura de 
video, imágenes, audio, etc. 

En el apartado de aprendizaje profundo se definieron 
conceptos muy generales del aprendizaje automático,
se ahondó en las redes neuronales y el algoritmo de 
retropropagación para el aprendizaje de los parámetros
de una red y finalmente se describieron las redes
convolucionales con un enfoque hacia la visión 
computacional. De TensorFlow, se mostró 
la estructura fundamental de un programa usando esta
biblioteca y de los objetos que utiliza
para el entrenamiento y evaluación de un modelo, 
incluyendo un ejemplo, usando Python, de una
red neuronal que aprende la función XOR. 

En cuanto a las secciones de cómputo en la nube
y REST, se describieron algunos conceptos teóricos
de cada uno y las tecnologías que están involucradas.

De Firebase se mencionaron a grandes rasgos 
tres características que ofrece y que se ocupan
en este proyecto, la base de datos en tiempo real,
el servicio de autenticación y el servicio de alojamiento.
En el apartado de las API REST se describió 
el flujo de petición y respuesta
de los servicios de Google Cloud, Kairos y Wit.ai.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%% Capítulo 2 : CloudNAO %%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{La arquitectura CloudNAO}
\label{\detokenize{chapter_two:la-arquitectura-cloudnao}}\label{\detokenize{chapter_two::doc}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

En este capítulo se explica el desarrollo de la arquitectura de software CloudNAO y algunos casos de estudio donde se usan
algunos elementos de ésta.

En la Sección \ref{\detokenize{chapter_two/desc_cloudnao:descripcion-de-la-arquitectura-cloudnao}} se describen los componentes de
la arquitectura, la comunicación y relación entre ellos.
Esta sección incluye una subsección por cada elemento de CloudNAO, la cual contiene dos apartados, uno para usuarios y otro para desarrolladores.

En la Sección \ref{\detokenize{chapter_two/study_cases_implementation::doc}} se muestran tres casos de estudio. El primero es el 
reconocimiento rostros, el segundo incluye el reconocimiento
óptico de caracteres y su traducción y el tercer caso es
el reconocimiento de voz con el objetivo de que
el robot realice algunas tareas utilizando comandos por voz.

\input{C2_arquitectura_cloudnao/intro}
\input{C2_arquitectura_cloudnao/lar_server}
\input{C2_arquitectura_cloudnao/api_rest_cloudnao}
\input{C2_arquitectura_cloudnao/firebase_and_cloudnao}
\input{C2_arquitectura_cloudnao/android}
\input{C2_arquitectura_cloudnao/robot_firebase_docs}
\input{C2_arquitectura_cloudnao/web_app_docs}
\input{C2_arquitectura_cloudnao/casos_de_estudio}

\section*{Conclusiones del capítulo}
En este capítulo se describieron cada uno de los
componentes de la arquitectura de software CloudNAO que llevaron al
cumplimiento del primer objetivo
de esta investigación. 

De la API REST se mostraron los recursos que ofrece, como enviar una solicitud y la estructura de la respuesta 
retornada por la API. Además, se incluye una descripción
de cada módulo que compone la aplicación para poder
darle mantenimiento, replicarla o extenderla.

Después se incluye un apartado únicamente para
hablar de la base de datos en tiempo real de Firebase
y su papel dentro de CloudNAO. Aquí se definió 
la estructura del JSON y cada uno de sus atributos.

De la aplicación móvil para dispositivos con
sistema Android se exponen las funcionalidades que 
ofrece y también una explicación general de las 
clases principales dentro del código fuente. Una restriccion
encontrada es que el SDK de NAOqi
para desarrollar aplicaciones para
Android sólo funciona con 
dispositivos con arquitecturas ARM
y con una versión menor o igual a Android 5.1.1.

Se explicó también como se realiza la conexión 
entre el robot NAO y Firebase sin ningún intermediario. Con ésto el
robot puede directamente
leer y escribir en la base
de datos en tiempo real de Firebase
para realizar algunas tareas de 
movimiento y almacenamiento de
registros del estado del robot.

La primera sección del capítulo finaliza con la descripción de
la aplicación web, sus funcionalidades y un vistazo general
a sus componentes.

En la segunda sección del capítulo
se mostraron algunos casos de estudio para poner ejemplos
prácticos del uso de algunos elementos de la arquitectura.
Se expusieron tres casos, una herramienta para
identificar a una persona con una
fotografía capturada con la cámara
del robot, un traductor de texto
encontrado en una imagen
al idioma español y finalmente 
un control por voz del robot
para realizar algunas tareas.



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%% Capítulo 3 : Servicio en la nube %%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Un servicio de cómputo en la nube sobre la arquitectura CloudNAO}
\label{\detokenize{chapter_three:un-servicio-de-computo-en-la-nube-sobre-la-arquitectura-cloudnao}}
\label{\detokenize{chapter_three::doc}}


\input{C3_servicio_en_la_nube/intro}
\input{C3_servicio_en_la_nube/desc_service_cnn}
\input{C3_servicio_en_la_nube/service_implementation}

\section*{Conclusiones del capítulo}
En este capítulo logramos cumplir
el segundo objetivo de la tesis
al desarrollar un servicio que
utiliza una red neuronal profunda
como clasificador de imágenes y
que es consumido por el robot NAO.

Se logró ver que gracias a
TensorFlow, la creación, el 
entrenamiento y evaluación
del modelo se hace de manera sencilla
y rápida.

Como trabajos a futuro quedan:
utilizar otras medidas para evaluar
el desempeño del clasificador,
integrar este servicio a la solución
de la navegación del robot 
(al menos dentro del laboratorio)
y probar otras arquitecturas
de redes neuronales profundas.


% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%% Conclusiones %%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\input{conclusions}



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%% Anexos %%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\include{anexos}

% \addcontentsline{toc}{chapter}{Glosario y acrónimos}

\printglossary[nonumberlist, toctitle=Glosario]
\nocite{*}
\addcontentsline{toc}{chapter}{Bibliografía}
\bibliographystyle{unsrt}
\bibliography{referencias}

% \printbibliography

\end{document}